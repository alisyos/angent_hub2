<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>회사 관리자 페이지 - AI 에이전트 허브</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="company-admin-styles.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    
    <!-- 화면정의 모달 스타일 -->
    <style>
        .screen-spec-floating-btn {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 50px;
            padding: 15px 20px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            box-shadow: 0 4px 20px rgba(102, 126, 234, 0.4);
            z-index: 1000;
            transition: all 0.3s ease;
            animation: pulse 2s infinite;
        }
        
        .screen-spec-floating-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 25px rgba(102, 126, 234, 0.6);
        }
        
        @keyframes pulse {
            0% { box-shadow: 0 4px 20px rgba(102, 126, 234, 0.4); }
            50% { box-shadow: 0 4px 20px rgba(102, 126, 234, 0.8); }
            100% { box-shadow: 0 4px 20px rgba(102, 126, 234, 0.4); }
        }
        
        .screen-spec-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 2000;
            overflow-y: auto;
        }
        
        .screen-spec-content {
            background: white;
            margin: 2% auto;
            padding: 0;
            width: 90%;
            max-width: 1200px;
            border-radius: 12px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
            position: relative;
            max-height: 90vh;
            overflow-y: auto;
        }
        
        .screen-spec-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 12px 12px 0 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .header-buttons {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .btn-header-action {
            background: rgba(255, 255, 255, 0.2);
            border: 1px solid rgba(255, 255, 255, 0.3);
            color: white;
            padding: 8px 12px;
            border-radius: 6px;
            font-size: 13px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .btn-header-action:hover {
            background: rgba(255, 255, 255, 0.3);
            border-color: rgba(255, 255, 255, 0.5);
            transform: translateY(-1px);
        }
        
        .screen-spec-close {
            background: none;
            border: none;
            color: white;
            font-size: 24px;
            cursor: pointer;
            padding: 5px;
            border-radius: 50%;
            transition: background 0.3s;
        }
        
        .screen-spec-close:hover {
            background: rgba(255, 255, 255, 0.2);
        }
        
        .screen-spec-body {
            padding: 30px;
            line-height: 1.6;
        }
        
        .spec-section {
            margin-bottom: 30px;
            padding: 20px;
            border: 1px solid #e9ecef;
            border-radius: 8px;
            background: #f8f9fa;
        }
        
        .spec-section h3 {
            color: #667eea;
            margin-bottom: 15px;
            font-size: 1.3rem;
        }
        
        .spec-section h4 {
            color: #5a6c7d;
            margin: 15px 0 10px 0;
            font-size: 1.1rem;
        }
        
        .component-list {
            list-style: none;
            padding: 0;
        }
        
        .component-list li {
            padding: 8px 0;
            border-bottom: 1px solid #dee2e6;
            display: flex;
            justify-content: space-between;
        }
        
        .component-list li:last-child {
            border-bottom: none;
        }
        
        .component-name {
            font-weight: 600;
            color: #333;
        }
        
        .component-desc {
            color: #6c757d;
            font-size: 0.9rem;
        }
        
        .tech-tag {
            display: inline-block;
            background: #667eea;
            color: white;
            padding: 3px 8px;
            border-radius: 12px;
            font-size: 0.8rem;
            margin: 2px;
        }
        
        .code-snippet {
            background: #2c3e50;
            color: #ecf0f1;
            padding: 15px;
            border-radius: 6px;
            font-family: 'Monaco', 'Menlo', monospace;
            font-size: 0.9rem;
            overflow-x: auto;
            margin: 10px 0;
        }
        
        @media (max-width: 768px) {
            .screen-spec-content {
                width: 95%;
                margin: 5% auto;
            }
            
            .screen-spec-floating-btn {
                bottom: 20px;
                right: 20px;
                padding: 12px 16px;
                font-size: 12px;
            }
            
            .screen-spec-header h2 {
                font-size: 1.1rem;
            }
            
            .btn-header-action {
                padding: 6px 8px;
                font-size: 11px;
            }
            
            .btn-header-action span {
                display: none;
            }
        }
    </style>
</head>
<body>
    <div class="company-admin-layout">
        <!-- 사이드바 -->
        <aside class="company-sidebar">
            <div class="sidebar-header">
                <div class="company-logo">
                    <i class="fas fa-building"></i>
                    <div>
                        <span class="company-name">테크컴퍼니</span>
                        <span class="admin-label">관리자</span>
                    </div>
                </div>
            </div>
            
            <nav class="sidebar-nav">
                <ul>
                    <li class="nav-item active">
                        <a href="#" onclick="showSection('overview')" class="nav-link">
                            <i class="fas fa-tachometer-alt"></i>
                            <span>대시보드</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#" onclick="showSection('employees')" class="nav-link">
                            <i class="fas fa-users"></i>
                            <span>직원 관리</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#" onclick="showSection('permissions')" class="nav-link">
                            <i class="fas fa-shield-alt"></i>
                            <span>권한 관리</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#" onclick="showSection('agents-settings')" class="nav-link">
                            <i class="fas fa-robot"></i>
                            <span>에이전트 설정</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#" onclick="showSection('credits-manage')" class="nav-link">
                            <i class="fas fa-coins"></i>
                            <span>크레딧 관리</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#" onclick="showSection('analytics')" class="nav-link">
                            <i class="fas fa-chart-line"></i>
                            <span>사용 분석</span>
                        </a>
                    </li>
                </ul>
            </nav>
            
            <div class="sidebar-footer">

                <a href="index.html" class="back-to-main">
                    <i class="fas fa-arrow-left"></i>
                    <span>메인으로 돌아가기</span>
                </a>
            </div>
        </aside>

        <!-- 메인 콘텐츠 -->
        <main class="company-main">
            <!-- 헤더 -->
            <header class="company-header">
                <div class="header-left">
                    <h1 id="page-title">회사 대시보드</h1>
                </div>
                <div class="header-right">
                    <div class="company-credit-info">
                        <i class="fas fa-coins"></i>
                        <span>회사 크레딧: <strong>15,750</strong></span>
                    </div>
                    <div class="admin-info">
                        <i class="fas fa-user-tie"></i>
                        <span id="company-admin-name">김관리자</span>
                    </div>
                    <button onclick="companyAdminLogout()" class="logout-btn">
                        <i class="fas fa-sign-out-alt"></i>
                        <span>로그아웃</span>
                    </button>
                </div>
            </header>

            <!-- 대시보드 섹션 -->
            <section id="overview-section" class="company-section active">
                <div class="company-stats-grid">
                    <div class="company-stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-users"></i>
                        </div>
                        <div class="stat-content">
                            <div class="stat-number">28</div>
                            <div class="stat-label">활성 직원</div>
                            <div class="stat-change positive">+2 (이번 달)</div>
                        </div>
                    </div>
                    
                    <div class="company-stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-robot"></i>
                        </div>
                        <div class="stat-content">
                            <div class="stat-number">456</div>
                            <div class="stat-label">AI 사용 횟수</div>
                            <div class="stat-change positive">+23 (오늘)</div>
                        </div>
                    </div>
                    
                    <div class="company-stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-coins"></i>
                        </div>
                        <div class="stat-content">
                            <div class="stat-number">8,234</div>
                            <div class="stat-label">사용된 크레딧</div>
                            <div class="stat-change positive">+456 (이번 주)</div>
                        </div>
                    </div>
                    
                    <div class="company-stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-chart-bar"></i>
                        </div>
                        <div class="stat-content">
                            <div class="stat-number">12</div>
                            <div class="stat-label">활성 에이전트</div>
                            <div class="stat-change neutral">변동 없음</div>
                        </div>
                    </div>
                </div>
                
                <div class="dashboard-overview">
                    <div class="overview-card">
                        <h3>부서별 사용 현황</h3>
                        <div class="department-usage">
                            <div class="usage-item">
                                <div class="department-info">
                                    <span class="department-name">마케팅팀</span>
                                    <span class="usage-count">156회</span>
                                </div>
                                <div class="usage-bar">
                                    <div class="usage-fill" style="width: 85%"></div>
                                </div>
                            </div>
                            <div class="usage-item">
                                <div class="department-info">
                                    <span class="department-name">개발팀</span>
                                    <span class="usage-count">98회</span>
                                </div>
                                <div class="usage-bar">
                                    <div class="usage-fill" style="width: 60%"></div>
                                </div>
                            </div>
                            <div class="usage-item">
                                <div class="department-info">
                                    <span class="department-name">기획팀</span>
                                    <span class="usage-count">87회</span>
                                </div>
                                <div class="usage-bar">
                                    <div class="usage-fill" style="width: 50%"></div>
                                </div>
                            </div>
                            <div class="usage-item">
                                <div class="department-info">
                                    <span class="department-name">영업팀</span>
                                    <span class="usage-count">65회</span>
                                </div>
                                <div class="usage-bar">
                                    <div class="usage-fill" style="width: 35%"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="overview-card">
                        <h3>인기 AI 에이전트</h3>
                        <div class="popular-agents">
                            <div class="agent-usage-item">
                                <div class="agent-icon">
                                    <i class="fas fa-file-alt"></i>
                                </div>
                                <div class="agent-info">
                                    <span class="agent-name">회의록 자동화 AI</span>
                                    <span class="usage-stats">87회 사용</span>
                                </div>
                                <span class="usage-percentage">32%</span>
                            </div>
                            <div class="agent-usage-item">
                                <div class="agent-icon">
                                    <i class="fas fa-envelope"></i>
                                </div>
                                <div class="agent-info">
                                    <span class="agent-name">이메일 작성 AI</span>
                                    <span class="usage-stats">64회 사용</span>
                                </div>
                                <span class="usage-percentage">24%</span>
                            </div>
                            <div class="agent-usage-item">
                                <div class="agent-icon">
                                    <i class="fas fa-chart-line"></i>
                                </div>
                                <div class="agent-info">
                                    <span class="agent-name">리뷰 분석 AI</span>
                                    <span class="usage-stats">43회 사용</span>
                                </div>
                                <span class="usage-percentage">16%</span>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- 직원 관리 섹션 -->
            <section id="employees-section" class="company-section">
                <div class="section-header">
                    <div class="section-title">
                        <h2>직원 관리</h2>
                        <p>회사 직원들의 계정과 사용 현황을 관리합니다</p>
                    </div>
                    <div class="section-actions">
                        <button class="btn-primary" onclick="inviteEmployee()">
                            <i class="fas fa-user-plus"></i>
                            직원 초대
                        </button>
                    </div>
                </div>
                
                <div class="employees-table">
                    <table>
                        <thead>
                            <tr>
                                <th>이름</th>
                                <th>이메일</th>
                                <th>부서</th>
                                <th>직급</th>
                                <th>가입일</th>
                                <th>사용 횟수</th>
                                <th>상태</th>
                                <th>작업</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>
                                    <div class="employee-info">
                                        <img src="https://via.placeholder.com/32" alt="프로필" class="profile-img">
                                        <span>홍길동</span>
                                    </div>
                                </td>
                                <td>hong@techcompany.com</td>
                                <td>마케팅팀</td>
                                <td>대리</td>
                                <td>2024-03-15</td>
                                <td>45회</td>
                                <td><span class="status-active">활성</span></td>
                                <td>
                                    <button class="btn-action" onclick="editEmployee('hong')">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button class="btn-action" onclick="suspendEmployee('hong')">
                                        <i class="fas fa-ban"></i>
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <div class="employee-info">
                                        <img src="https://via.placeholder.com/32" alt="프로필" class="profile-img">
                                        <span>김철수</span>
                                    </div>
                                </td>
                                <td>kim@techcompany.com</td>
                                <td>개발팀</td>
                                <td>선임</td>
                                <td>2024-02-20</td>
                                <td>32회</td>
                                <td><span class="status-active">활성</span></td>
                                <td>
                                    <button class="btn-action" onclick="editEmployee('kim')">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button class="btn-action" onclick="suspendEmployee('kim')">
                                        <i class="fas fa-ban"></i>
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <div class="employee-info">
                                        <img src="https://via.placeholder.com/32" alt="프로필" class="profile-img">
                                        <span>이영희</span>
                                    </div>
                                </td>
                                <td>lee@techcompany.com</td>
                                <td>기획팀</td>
                                <td>주임</td>
                                <td>2024-04-10</td>
                                <td>28회</td>
                                <td><span class="status-inactive">비활성</span></td>
                                <td>
                                    <button class="btn-action" onclick="editEmployee('lee')">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button class="btn-action" onclick="activateEmployee('lee')">
                                        <i class="fas fa-check"></i>
                                    </button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- 권한 관리 섹션 -->
            <section id="permissions-section" class="company-section">
                <div class="section-header">
                    <div class="section-title">
                        <h2>권한 관리</h2>
                        <p>부서별, 직급별 AI 에이전트 사용 권한을 설정합니다</p>
                    </div>
                </div>
                
                <div class="permissions-grid">
                    <div class="permission-card">
                        <h3>부서별 권한 설정</h3>
                        <div class="department-permissions">
                            <div class="department-item">
                                <div class="department-header">
                                    <span class="department-name">마케팅팀</span>
                                    <span class="permission-count">8/12 에이전트 허용</span>
                                </div>
                                <div class="permission-list">
                                    <div class="permission-item">
                                        <label>
                                            <input type="checkbox" checked>
                                            <span>리뷰 분석 AI</span>
                                        </label>
                                    </div>
                                    <div class="permission-item">
                                        <label>
                                            <input type="checkbox" checked>
                                            <span>SNS 이벤트 기획 AI</span>
                                        </label>
                                    </div>
                                    <div class="permission-item">
                                        <label>
                                            <input type="checkbox" checked>
                                            <span>블로그 생성기</span>
                                        </label>
                                    </div>
                                    <div class="permission-item">
                                        <label>
                                            <input type="checkbox">
                                            <span>PPT 생성기</span>
                                        </label>
                                    </div>
                                </div>
                                <button class="btn-secondary" onclick="editDepartmentPermissions('marketing')">
                                    권한 수정
                                </button>
                            </div>
                            
                            <div class="department-item">
                                <div class="department-header">
                                    <span class="department-name">개발팀</span>
                                    <span class="permission-count">6/12 에이전트 허용</span>
                                </div>
                                <div class="permission-list">
                                    <div class="permission-item">
                                        <label>
                                            <input type="checkbox" checked>
                                            <span>회의록 자동화 AI</span>
                                        </label>
                                    </div>
                                    <div class="permission-item">
                                        <label>
                                            <input type="checkbox" checked>
                                            <span>이메일 작성 AI</span>
                                        </label>
                                    </div>
                                    <div class="permission-item">
                                        <label>
                                            <input type="checkbox">
                                            <span>리뷰 분석 AI</span>
                                        </label>
                                    </div>
                                </div>
                                <button class="btn-secondary" onclick="editDepartmentPermissions('development')">
                                    권한 수정
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="permission-card">
                        <h3>개별 직원 권한</h3>
                        <div class="individual-permissions">
                            <div class="employee-permission">
                                <div class="employee-info">
                                    <img src="https://via.placeholder.com/40" alt="프로필" class="profile-img">
                                    <div>
                                        <span class="employee-name">홍길동</span>
                                        <span class="employee-role">마케팅팀 대리</span>
                                    </div>
                                </div>
                                <div class="permission-status">
                                    <span class="allowed-agents">8개 에이전트 허용</span>
                                    <button class="btn-action" onclick="editIndividualPermissions('hong')">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                </div>
                            </div>
                            
                            <div class="employee-permission">
                                <div class="employee-info">
                                    <img src="https://via.placeholder.com/40" alt="프로필" class="profile-img">
                                    <div>
                                        <span class="employee-name">김철수</span>
                                        <span class="employee-role">개발팀 선임</span>
                                    </div>
                                </div>
                                <div class="permission-status">
                                    <span class="allowed-agents">12개 에이전트 허용</span>
                                    <button class="btn-action" onclick="editIndividualPermissions('kim')">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- 에이전트 설정 섹션 -->
            <section id="agents-settings-section" class="company-section">
                <div class="section-header">
                    <div class="section-title">
                        <h2>AI 에이전트 설정</h2>
                        <p>회사에서 사용할 AI 에이전트를 선택하고 관리합니다</p>
                    </div>
                </div>
                
                <div class="agents-categories">
                    <div class="category-section">
                        <h3>일반사무</h3>
                        <div class="agents-list">
                            <div class="agent-setting-item active">
                                <div class="agent-info">
                                    <div class="agent-icon">
                                        <i class="fas fa-file-alt"></i>
                                    </div>
                                    <div class="agent-details">
                                        <span class="agent-name">회의록 자동화 AI</span>
                                        <span class="agent-cost">15 크레딧</span>
                                    </div>
                                </div>
                                <div class="agent-controls">
                                    <label class="toggle-switch">
                                        <input type="checkbox" checked>
                                        <span class="slider"></span>
                                    </label>
                                </div>
                            </div>
                            
                            <div class="agent-setting-item active">
                                <div class="agent-info">
                                    <div class="agent-icon">
                                        <i class="fas fa-envelope"></i>
                                    </div>
                                    <div class="agent-details">
                                        <span class="agent-name">이메일 작성 AI</span>
                                        <span class="agent-cost">10 크레딧</span>
                                    </div>
                                </div>
                                <div class="agent-controls">
                                    <label class="toggle-switch">
                                        <input type="checkbox" checked>
                                        <span class="slider"></span>
                                    </label>
                                </div>
                            </div>
                            
                            <div class="agent-setting-item">
                                <div class="agent-info">
                                    <div class="agent-icon">
                                        <i class="fas fa-presentation"></i>
                                    </div>
                                    <div class="agent-details">
                                        <span class="agent-name">PPT 생성기</span>
                                        <span class="agent-cost">25 크레딧</span>
                                    </div>
                                </div>
                                <div class="agent-controls">
                                    <label class="toggle-switch">
                                        <input type="checkbox">
                                        <span class="slider"></span>
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="category-section">
                        <h3>마케팅/광고</h3>
                        <div class="agents-list">
                            <div class="agent-setting-item active">
                                <div class="agent-info">
                                    <div class="agent-icon">
                                        <i class="fas fa-chart-line"></i>
                                    </div>
                                    <div class="agent-details">
                                        <span class="agent-name">리뷰 분석 AI</span>
                                        <span class="agent-cost">18 크레딧</span>
                                    </div>
                                </div>
                                <div class="agent-controls">
                                    <label class="toggle-switch">
                                        <input type="checkbox" checked>
                                        <span class="slider"></span>
                                    </label>
                                </div>
                            </div>
                            
                            <div class="agent-setting-item active">
                                <div class="agent-info">
                                    <div class="agent-icon">
                                        <i class="fas fa-calendar-star"></i>
                                    </div>
                                    <div class="agent-details">
                                        <span class="agent-name">SNS 이벤트 기획 AI</span>
                                        <span class="agent-cost">30 크레딧</span>
                                    </div>
                                </div>
                                <div class="agent-controls">
                                    <label class="toggle-switch">
                                        <input type="checkbox" checked>
                                        <span class="slider"></span>
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- 크레딧 관리 섹션 -->
            <section id="credits-manage-section" class="company-section">
                <div class="section-header">
                    <div class="section-title">
                        <h2>크레딧 관리</h2>
                        <p>회사 크레딧 사용량과 충전 내역을 관리합니다</p>
                    </div>
                    <div class="section-actions">
                        <button class="btn-primary" onclick="chargeCredits()">
                            <i class="fas fa-plus"></i>
                            크레딧 충전
                        </button>
                    </div>
                </div>
                
                <div class="credits-overview">
                    <div class="credit-summary-card">
                        <h3>크레딧 현황</h3>
                        <div class="credit-stats">
                            <div class="credit-stat">
                                <span class="stat-label">보유 크레딧</span>
                                <span class="stat-value">15,750</span>
                            </div>
                            <div class="credit-stat">
                                <span class="stat-label">이번 달 사용</span>
                                <span class="stat-value">8,234</span>
                            </div>
                            <div class="credit-stat">
                                <span class="stat-label">평균 일일 사용</span>
                                <span class="stat-value">316</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="credit-usage-card">
                        <h3>직원별 크레딧 사용량</h3>
                        <div class="employee-usage-list">
                            <div class="employee-usage">
                                <div class="employee-info">
                                    <span class="employee-name">홍길동</span>
                                    <span class="department">마케팅팀</span>
                                </div>
                                <div class="usage-amount">
                                    <span class="credits-used">1,250 크레딧</span>
                                    <div class="usage-bar">
                                        <div class="usage-fill" style="width: 75%"></div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="employee-usage">
                                <div class="employee-info">
                                    <span class="employee-name">김철수</span>
                                    <span class="department">개발팀</span>
                                </div>
                                <div class="usage-amount">
                                    <span class="credits-used">980 크레딧</span>
                                    <div class="usage-bar">
                                        <div class="usage-fill" style="width: 58%"></div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="employee-usage">
                                <div class="employee-info">
                                    <span class="employee-name">이영희</span>
                                    <span class="department">기획팀</span>
                                </div>
                                <div class="usage-amount">
                                    <span class="credits-used">756 크레딧</span>
                                    <div class="usage-bar">
                                        <div class="usage-fill" style="width: 45%"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- 사용 분석 섹션 -->
            <section id="analytics-section" class="company-section">
                <div class="section-header">
                    <div class="section-title">
                        <h2>사용 분석</h2>
                        <p>회사의 AI 에이전트 사용 패턴과 효율성을 분석합니다</p>
                    </div>
                </div>
                
                <div class="analytics-dashboard">
                    <div class="analytics-chart">
                        <h3>월별 사용 트렌드</h3>
                        <div class="chart-placeholder">
                            <i class="fas fa-chart-area"></i>
                            <p>사용량 차트가 여기에 표시됩니다</p>
                        </div>
                    </div>
                    
                    <div class="analytics-insights">
                        <h3>주요 인사이트</h3>
                        <div class="insight-list">
                            <div class="insight-item">
                                <div class="insight-icon success">
                                    <i class="fas fa-arrow-up"></i>
                                </div>
                                <div class="insight-content">
                                    <span class="insight-title">사용량 증가</span>
                                    <span class="insight-description">지난 달 대비 23% 증가</span>
                                </div>
                            </div>
                            
                            <div class="insight-item">
                                <div class="insight-icon info">
                                    <i class="fas fa-star"></i>
                                </div>
                                <div class="insight-content">
                                    <span class="insight-title">인기 에이전트</span>
                                    <span class="insight-description">회의록 자동화 AI가 가장 많이 사용됨</span>
                                </div>
                            </div>
                            
                            <div class="insight-item">
                                <div class="insight-icon warning">
                                    <i class="fas fa-exclamation-triangle"></i>
                                </div>
                                <div class="insight-content">
                                    <span class="insight-title">크레딧 소모 주의</span>
                                    <span class="insight-description">현재 페이스로 15일 후 크레딧 부족 예상</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- 화면정의 플로팅 버튼 -->
    <button class="screen-spec-floating-btn" onclick="openScreenSpec()">
        <i class="fas fa-file-code"></i> 화면정의
    </button>

    <!-- 화면정의 모달 -->
    <div id="screenSpecModal" class="screen-spec-modal">
        <div class="screen-spec-content">
            <div class="screen-spec-header">
                <h2><i class="fas fa-building"></i> 회사 관리자 페이지 화면정의서</h2>
                <div class="header-buttons">
                    <button class="btn-header-action" onclick="window.open('화면정의서-웹문서.html', '_blank')" title="전체 화면정의서 보기">
                        <i class="fas fa-external-link-alt"></i> 전체 정의서
                    </button>
                    <button class="screen-spec-close" onclick="closeScreenSpec()">&times;</button>
                </div>
            </div>
            <div class="screen-spec-body">
                
                <!-- 페이지 개요 -->
                <div class="spec-section">
                    <h3>📋 페이지 개요</h3>
                    <p><strong>파일명:</strong> company-admin.html</p>
                    <p><strong>용도:</strong> 기업 계정의 관리자가 소속 직원들의 AI 에이전트 사용을 관리하는 페이지</p>
                    <p><strong>사용자 타입:</strong> 회사 관리자 (role: 'company_admin')</p>
                    <p><strong>접근 권한:</strong> 자신의 회사 직원과 관련된 데이터에만 접근 가능</p>
                    
                    <h4>주요 기능</h4>
                    <ul class="component-list">
                        <li>
                            <span class="component-name">직원 관리</span>
                            <span class="component-desc">소속 직원 목록 조회, 추가, 권한 설정</span>
                        </li>
                        <li>
                            <span class="component-name">AI 에이전트 설정</span>
                            <span class="component-desc">사용 가능한 에이전트 활성화/비활성화</span>
                        </li>
                        <li>
                            <span class="component-name">크레딧 관리</span>
                            <span class="component-desc">회사 크레딧 충전, 직원별 사용량 모니터링</span>
                        </li>
                        <li>
                            <span class="component-name">사용 분석</span>
                            <span class="component-desc">직원별 사용 패턴, 효율성 분석</span>
                        </li>
                        <li>
                            <span class="component-name">비용 관리</span>
                            <span class="component-desc">월별 사용량, 예산 관리, 리포트 생성</span>
                        </li>
                    </ul>
                </div>

                <!-- UI 컴포넌트 -->
                <div class="spec-section">
                    <h3>🎨 UI 컴포넌트 정의</h3>
                    
                    <h4>사이드바 네비게이션</h4>
                    <ul class="component-list">
                        <li>
                            <span class="component-name">대시보드</span>
                            <span class="component-desc">회사 전체 현황 요약 (showSection('dashboard'))</span>
                        </li>
                        <li>
                            <span class="component-name">직원 관리</span>
                            <span class="component-desc">직원 목록, 권한 관리 (showSection('employees'))</span>
                        </li>
                        <li>
                            <span class="component-name">AI 에이전트 설정</span>
                            <span class="component-desc">에이전트 활성화 관리 (showSection('agents'))</span>
                        </li>
                        <li>
                            <span class="component-name">크레딧 관리</span>
                            <span class="component-desc">충전, 사용량 관리 (showSection('credits-manage'))</span>
                        </li>
                        <li>
                            <span class="component-name">사용 분석</span>
                            <span class="component-desc">통계, 리포트 생성 (showSection('analytics'))</span>
                        </li>
                    </ul>

                    <h4>대시보드 통계 카드</h4>
                    <ul class="component-list">
                        <li>
                            <span class="component-name">총 직원 수</span>
                            <span class="component-desc">24명 (활성 23명, 비활성 1명)</span>
                        </li>
                        <li>
                            <span class="component-name">이번 달 크레딧 사용</span>
                            <span class="component-desc">8,234 / 15,000 크레딧 (55%)</span>
                        </li>
                        <li>
                            <span class="component-name">가장 많이 사용된 에이전트</span>
                            <span class="component-desc">회의록 자동화 AI (342회)</span>
                        </li>
                        <li>
                            <span class="component-name">월 사용량 증감</span>
                            <span class="component-desc">전월 대비 +23% 증가</span>
                        </li>
                    </ul>

                    <h4>직원 관리 테이블</h4>
                    <ul class="component-list">
                        <li>
                            <span class="component-name">직원 정보</span>
                            <span class="component-desc">이름, 이메일, 부서, 직급, 가입일</span>
                        </li>
                        <li>
                            <span class="component-name">사용 현황</span>
                            <span class="component-desc">월 사용량, 누적 사용량, 최근 접속</span>
                        </li>
                        <li>
                            <span class="component-name">권한 관리</span>
                            <span class="component-desc">에이전트 접근 권한, 사용 한도 설정</span>
                        </li>
                    </ul>

                    <h4>AI 에이전트 설정 패널</h4>
                    <ul class="component-list">
                        <li>
                            <span class="component-name">카테고리별 분류</span>
                            <span class="component-desc">일반사무, 마케팅/광고, 콘텐츠 제작</span>
                        </li>
                        <li>
                            <span class="component-name">토글 스위치</span>
                            <span class="component-desc">에이전트별 활성화/비활성화 제어</span>
                        </li>
                        <li>
                            <span class="component-name">비용 정보</span>
                            <span class="component-desc">에이전트별 크레딧 비용 표시</span>
                        </li>
                    </ul>
                </div>

                <!-- 기술 스펙 -->
                <div class="spec-section">
                    <h3>⚙️ 기술 사양</h3>
                    
                    <h4>필수 기술 스택</h4>
                    <div>
                        <span class="tech-tag">HTML5</span>
                        <span class="tech-tag">CSS3</span>
                        <span class="tech-tag">JavaScript ES6+</span>
                        <span class="tech-tag">Chart.js</span>
                        <span class="tech-tag">Font Awesome</span>
                        <span class="tech-tag">LocalStorage</span>
                    </div>

                    <h4>권한 체크 로직</h4>
                    <div class="code-snippet">
// 회사 관리자 권한 확인
function checkCompanyAdminAuth() {
  const currentUser = dataManager.getCurrentUser();
  
  if (!currentUser || currentUser.role !== 'company_admin') {
    alert('회사 관리자 권한이 필요합니다.');
    window.location.href = 'index.html';
    return false;
  }
  return true;
}

// 회사 직원 필터링
function getCompanyEmployees() {
  const currentUser = dataManager.getCurrentUser();
  const allUsers = dataManager.getAllUsers();
  
  return allUsers.filter(user => 
    user.accountType === 'company' && 
    user.companyName === currentUser.companyName
  );
}
                    </div>

                    <h4>데이터 관리 인터페이스</h4>
                    <div class="code-snippet">
// 직원 관리 함수들
function loadEmployees() { /* 소속 직원 목록 로드 */ }
function addEmployee(email) { /* 직원 초대 */ }
function setEmployeePermissions(userId, permissions) { /* 권한 설정 */ }
function setUsageLimit(userId, limit) { /* 사용 한도 설정 */ }

// 에이전트 설정 함수들
function toggleAgentAccess(agentId, enabled) { /* 에이전트 접근 제어 */ }
function getCompanyAgentSettings() { /* 회사 에이전트 설정 조회 */ }
function updateAgentSettings(settings) { /* 에이전트 설정 업데이트 */ }
                    </div>
                </div>

                <!-- 인터랙션 정의 -->
                <div class="spec-section">
                    <h3>🔄 인터랙션 정의</h3>
                    
                    <h4>직원 관리 워크플로우</h4>
                    <ul class="component-list">
                        <li>
                            <span class="component-name">직원 초대</span>
                            <span class="component-desc">이메일 입력 후 초대장 발송</span>
                        </li>
                        <li>
                            <span class="component-name">권한 설정</span>
                            <span class="component-desc">에이전트별 사용 권한 체크박스</span>
                        </li>
                        <li>
                            <span class="component-name">사용 한도 설정</span>
                            <span class="component-desc">월별 크레딧 사용 한도 입력</span>
                        </li>
                        <li>
                            <span class="component-name">사용량 모니터링</span>
                            <span class="component-desc">실시간 사용량 막대 그래프</span>
                        </li>
                    </ul>

                    <h4>크레딧 관리</h4>
                    <ul class="component-list">
                        <li>
                            <span class="component-name">크레딧 충전</span>
                            <span class="component-desc">패키지 선택 후 결제 프로세스</span>
                        </li>
                        <li>
                            <span class="component-name">사용량 알림</span>
                            <span class="component-desc">80%, 90% 도달 시 자동 알림</span>
                        </li>
                        <li>
                            <span class="component-name">예산 계획</span>
                            <span class="component-desc">월별 예산 설정 및 초과 알림</span>
                        </li>
                    </ul>

                    <h4>분석 및 리포트</h4>
                    <ul class="component-list">
                        <li>
                            <span class="component-name">사용 트렌드 차트</span>
                            <span class="component-desc">Chart.js로 월별 사용량 시각화</span>
                        </li>
                        <li>
                            <span class="component-name">직원별 랭킹</span>
                            <span class="component-desc">사용량 기준 순위 표시</span>
                        </li>
                        <li>
                            <span class="component-name">효율성 지표</span>
                            <span class="component-desc">ROI, 생산성 향상 지표 계산</span>
                        </li>
                    </ul>
                </div>

                <!-- 보안 및 권한 -->
                <div class="spec-section">
                    <h3>🔒 보안 및 권한</h3>
                    
                    <h4>접근 제어</h4>
                    <ul class="component-list">
                        <li>
                            <span class="component-name">회사 데이터 격리</span>
                            <span class="component-desc">자신의 회사 직원 데이터만 접근 가능</span>
                        </li>
                        <li>
                            <span class="component-name">관리자 권한 확인</span>
                            <span class="component-desc">company_admin 역할 체크</span>
                        </li>
                        <li>
                            <span class="component-name">데이터 필터링</span>
                            <span class="component-desc">회사명 기준으로 데이터 필터링</span>
                        </li>
                    </ul>

                    <h4>개인정보 보호</h4>
                    <ul class="component-list">
                        <li>
                            <span class="component-name">최소한의 정보</span>
                            <span class="component-desc">업무 관련 최소한의 개인정보만 표시</span>
                        </li>
                        <li>
                            <span class="component-name">사용 로그 기록</span>
                            <span class="component-desc">관리자의 직원 데이터 접근 로그</span>
                        </li>
                        <li>
                            <span class="component-name">권한 변경 추적</span>
                            <span class="component-desc">권한 변경 이력 저장</span>
                        </li>
                    </ul>
                </div>

                <!-- 개발 체크리스트 -->
                <div class="spec-section">
                    <h3>✅ 개발 체크리스트</h3>
                    
                    <h4>핵심 기능</h4>
                    <ul class="component-list">
                        <li>
                            <span class="component-name">✓ 회사별 데이터 격리</span>
                            <span class="component-desc">다른 회사 데이터 접근 차단</span>
                        </li>
                        <li>
                            <span class="component-name">✓ 직원 관리 시스템</span>
                            <span class="component-desc">초대, 권한 설정, 사용량 모니터링</span>
                        </li>
                        <li>
                            <span class="component-name">✓ AI 에이전트 제어</span>
                            <span class="component-desc">회사 정책에 따른 에이전트 활성화</span>
                        </li>
                        <li>
                            <span class="component-name">✓ 크레딧 관리</span>
                            <span class="component-desc">충전, 배분, 사용량 추적</span>
                        </li>
                        <li>
                            <span class="component-name">✓ 분석 대시보드</span>
                            <span class="component-desc">사용 패턴, 효율성 분석</span>
                        </li>
                    </ul>

                    <h4>테스트 시나리오</h4>
                    <ul class="component-list">
                        <li>
                            <span class="component-name">권한 분리 테스트</span>
                            <span class="component-desc">다른 회사 데이터 접근 차단 확인</span>
                        </li>
                        <li>
                            <span class="component-name">직원 관리 플로우</span>
                            <span class="component-desc">초대부터 권한 설정까지 전체 프로세스</span>
                        </li>
                        <li>
                            <span class="component-name">사용량 모니터링</span>
                            <span class="component-desc">실시간 사용량 반영, 알림 기능</span>
                        </li>
                        <li>
                            <span class="component-name">반응형 테스트</span>
                            <span class="component-desc">관리자용 복잡한 UI의 모바일 대응</span>
                        </li>
                    </ul>
                </div>

                <!-- 특별 고려사항 -->
                <div class="spec-section">
                    <h3>⚠️ 특별 고려사항</h3>
                    
                    <h4>확장성</h4>
                    <ul class="component-list">
                        <li>
                            <span class="component-name">대규모 직원 지원</span>
                            <span class="component-desc">100명+ 직원도 원활한 관리 가능</span>
                        </li>
                        <li>
                            <span class="component-name">페이지네이션</span>
                            <span class="component-desc">직원 목록, 사용 기록 페이징 처리</span>
                        </li>
                        <li>
                            <span class="component-name">실시간 업데이트</span>
                            <span class="component-desc">사용량 변경 시 즉시 반영</span>
                        </li>
                    </ul>

                    <h4>비즈니스 로직</h4>
                    <ul class="component-list">
                        <li>
                            <span class="component-name">예산 초과 방지</span>
                            <span class="component-desc">설정된 한도 초과 시 자동 차단</span>
                        </li>
                        <li>
                            <span class="component-name">승인 워크플로우</span>
                            <span class="component-desc">고비용 에이전트 사용 승인 프로세스</span>
                        </li>
                        <li>
                            <span class="component-name">비용 최적화</span>
                            <span class="component-desc">사용 패턴 분석으로 비용 절감 제안</span>
                        </li>
                    </ul>
                </div>

            </div>
        </div>
    </div>

    <script src="data-manager.js"></script>
    <script src="company-admin-script.js"></script>
    
    <!-- 화면정의 모달 스크립트 -->
    <script>
        function openScreenSpec() {
            document.getElementById('screenSpecModal').style.display = 'block';
            document.body.style.overflow = 'hidden';
        }
        
        function closeScreenSpec() {
            document.getElementById('screenSpecModal').style.display = 'none';
            document.body.style.overflow = 'auto';
        }
        
        // 모달 외부 클릭 시 닫기
        document.getElementById('screenSpecModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeScreenSpec();
            }
        });
        
        // ESC 키로 모달 닫기
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                closeScreenSpec();
            }
        });
    </script>
</body>
</html>